<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width initial-scale=1"/>
  <title>Setting up Git</title>
  <link rel="shortcut icon" href="/asset/favicon.ico"/>
  <link rel="stylesheet" href="/asset/style.css"/>

  <!-- Google fonts -->
  <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Alegreya:400,400i,500,500i,700,900"/>
  <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Noto+Serif:400,400i,700"/>
  <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Alegreya+Sans:400,700"/>
  <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Noto+Sans:400,700"/>
  <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Source+Code+Pro:600"/>
  <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Noto+Serif+KR:400,700"/>
  <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:400,700"/>

  <!-- Mathjax configuration -->
  <script src="/asset/mathjax.js" defer>
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" defer>
  </script>

  <!-- random quotes -->
  <script src="/asset/quote.js" defer>
  </script>
</head>



<body>

<header>
  <div id="header-banner">
    <h1 id="name-site">
      <a class="title-site" href="/">Photoluminescence</a>
      <span class="tagline-site">Math, Machines, and Music</span>
    </h1>
    <nav id="menu">
      <a class="button-menu" href="/stamp.html">by date</a>
      <span class="dingbat-menu">❦</span>
      <a class="button-menu" href="/genre.html">by genre</a>
      <span class="dingbat-menu">❦</span>
      <a class="button-menu" href="/series.html">by series</a>
      <span class="dingbat-menu">❦</span>
      <a class="button-menu" href="/tag.html">by tag</a>
    </nav>
    <img id="banner" src="/asset/banner.png" alt="banner">
  </div>
</header>

<header>
  <div id="header-post">
    <h2 class="heading-post">
      <span class="heading">Setting up Git</span>
    </h2>
    <p class="data-post">
      <a class="data-stamp" href="/page/january-2017.html">25 January 2017</a>
      <a class="data-genre" href="/page/notes.html">Negligible notes</a>
      
      <a class="data-tag" href="/page/git.html">Git</a>
<a class="data-tag" href="/page/github.html">GitHub</a>
<a class="data-tag" href="/page/coding.html">Coding</a>
    </p>
  </div>
</header>

<main class="document">
<div class="section">
<p class="paragraph">
<span class="phrase"><b class="serif-bold">Terminology</b></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Git, created by Linus Torvalds in 2005, is a software for tracking changes in different versions of a project consisting of plain text.</span></span> <span class="phrase"><span class="serif-roman">To me, Git commands are hard to remember, partly because it use text to describe the interaction of multiple components of the project.</span></span> <span class="phrase"><span class="serif-roman">Anyway, I try my best to give succinct and correct descriptions.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">A working tree is the directory where your project is.</span></span> <span class="phrase"><span class="serif-roman">A local repository (local repo) is a subdirectory in the working tree named</span> <code class="mono">.git/</code><span class="serif-roman">;</span> <span class="serif-roman">everything Git needs is saved in it.</span></span> <span class="phrase"><span class="serif-roman">A remote repository (remote repo) stores corresponding content in a hosting service, like GitHub.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">When you commit, you create a commit object including information on the working tree, along with a hash generated according to the author, time stamp, and file contents.</span></span> <span class="phrase"><span class="serif-roman">Commits are linked to each other, making up a commit history.</span></span> <span class="phrase"><span class="serif-roman">A stash is a commit object not yet committed.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">When you clone a repo, you you create a copy of it.</span></span> <span class="phrase"><span class="serif-roman">When you fork a repo, you clone it and modify it, thus generating two diverging histories.</span></span> <span class="phrase"><span class="serif-roman">When you fork you own local repo, you create a branch.</span></span> <span class="phrase"><span class="serif-roman">When you pull, you download files from the remote repo to the local repo.</span></span> <span class="phrase"><span class="serif-roman">When you push, you upload files from the local repo to the remote repo.</span></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><b class="serif-bold">Creating a repo</b></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">We use the convention that a</span> <code class="mono">$</code> <span class="serif-roman">indicates a command prompt.</span></span> <span class="phrase"><span class="serif-roman">To create a local repo,</span> <code class="mono">cd</code> <span class="serif-roman">into the top directory of your project, and use:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git init</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Remember that nothing affects the remote repo unless you push.</span></span> <span class="phrase"><span class="serif-roman">Therefore, if you have screwed up something and want to restart from the beginning, you may consider deleting the whole</span> <code class="mono">.git/</code> <span class="serif-roman">and using</span> <code class="mono">git init</code> <span class="serif-roman">again.</span></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">To create a new remote repo, sign up a Git service provider if you haven&#39;t.</span></span> <span class="phrase"><span class="serif-roman">The most popular choices are</span> <a class="serif-roman" href="https://github.com">GitHub</a> <span class="serif-roman">and</span> <a class="serif-roman" href="https://bitbucket.org">Bitbucket</a><span class="serif-roman">.</span></span> <span class="phrase"><span class="serif-roman">(It is my convention to name local repo with underscore-separated words, and remote repo with according hyphen-separated words.)</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">The remote url may either be set with respect to HTTPS or SSH protocol.</span></span> <span class="phrase"><span class="serif-roman">In the web page of the GitHub repos, there is a HTTPS url that looks like:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">https://github.com/violapterin/photoluminescence.git</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">And a SSH url that looks like:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">git@github.com:violapterin/photoluminescence.git</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">To set the remote url use SSH protocol, use:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git remote add origin git@github.com:violapterin/photoluminescence.git</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">To change url later, use:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git remote set-url origin git@github.com:violapterin/photoluminescence.git</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">To list currently existent remote urls, use:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git remote -v</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">The result will look like:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">origin  git@github.com:violapterin/computer-notes.git (fetch)</code></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">origin  git@github.com:violapterin/computer-notes.git (push)</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">To see more information about the remote:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git remote show origin</code></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><b class="serif-bold">Ignoring certain files</b></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">It isn’t Git’s original purpose to track binary files.</span></span> <span class="phrase"><span class="serif-roman">Binary files cannot be compared effectively,</span> <span class="serif-roman">nor can it be merged or rebased normally.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Generally, to tell Git to ignore specified files, create a file named</span> <code class="mono">.gitignore</code> <span class="serif-roman">in the top directory.</span></span> <span class="phrase"><span class="serif-roman">As an illustration:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">.DS_Store</code></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">*.pdf</code></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">/__pycache__/</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Here,</span> <code class="mono">*</code> <span class="serif-roman">is a wildcard.</span></span> <span class="phrase"><span class="serif-roman">So</span> <code class="mono">.DS_Store</code> <span class="serif-roman">in the top directory, all</span> <code class="mono">.pdf</code> <span class="serif-roman">files anywhere, and everything in the subdirectory</span> <code class="mono">/__pycache__/</code> <span class="serif-roman">of the top directory, will be ignored.</span></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">After</span> <code class="mono">.gitignore</code> <span class="serif-roman">is modified, those files tracked before but intended to be ignored, will nevertheless be tracked.</span></span> <span class="phrase"><span class="serif-roman">To truly stop tracking them, remove all the cache by</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git rm -r --cached .</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Then add to the index and commit, as usual.</span></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><b class="serif-bold">Configuring Git</b></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">In general, to configure something in Git, run:</span> <span class="serif-roman">(use</span> <code class="mono">--global</code> <span class="serif-roman">to set it in all repos.)</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git config class.attribute value</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Alternatively, append the following line, in</span> <code class="mono">~/.gitconfig</code><span class="serif-roman">:</span> <span class="serif-roman">(the second line should start with a tab.)</span> <code class="mono">[class]</code></span>
</p>
<p class="paragraph">
<span class="phrase">&ensp;</span> <span class="phrase"><code class="mono">attribute = value</code></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">For example, to fill in username and email, set:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git config user.name &quot;Raven I. Pilot&quot;</code></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git config user.email &quot;violapterin@gmail.com&quot;</code></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">As another example, the default editor for commit message is Vi.</span></span> <span class="phrase"><span class="serif-roman">To change it to Vim, set:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git config core.editor &quot;vim&quot;</code></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Or to color Git’s terminal output whenever possible, set:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git config color.ui auto</code></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">As a last example, by default non-ASCII characters such as Chinese characters are backslash-escaped with character codes.</span></span> <span class="phrase"><span class="serif-roman">Like</span> <span class="serif-roman">我</span> <span class="serif-roman">becomes</span> <code class="mono">\346\210\221</code><span class="serif-roman">.</span> <span class="serif-roman">to show them as verbatim, set:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git config core.quotepath false</code></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><b class="serif-bold">Using SSH keys</b></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">GitHub offers the choice to authenticate with HTTPS or SSH.</span></span> <span class="phrase"><span class="serif-roman">In general, SSH is more secure, but sometimes it gets blocked by a firewall.</span></span> <span class="phrase"><span class="serif-roman">Some older guides might still suggest RSA, but in 2020 the GitHub official guide instead recommends ED25519.</span></span> <span class="phrase"><span class="serif-roman">ED25519 public keys are evidently shorter and considerably stronger.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">To generate an ED25519 key, run:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ ssh-keygen -t ed25519 -C &quot;violapterin@gmail.com&quot;</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Under SSH protocol, authentication of SSH Key is easily managed by an</span> <code class="mono">ssh-agent</code><span class="serif-roman">,</span> <span class="serif-roman">while under HTTPS, the user may also use a credential helper, which I have not tried.</span></span> <span class="phrase"><span class="serif-roman">You will be asked for the filename with path, and a passphrase.</span></span> <span class="phrase"><span class="serif-roman">Since with an SSH-agent you have only to type the passphrase once, you may well choose a reasonably long (say, some 6-word) phrase.</span></span> <span class="phrase"><span class="serif-roman">Note that not only are nonalphanumeric ASCII characters allowed,</span> <span class="serif-roman">but in fact they are encouraged.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">If you have several keys, you may rename the public keys (with extension</span> <code class="mono">.pub</code> <span class="serif-roman">)</span> <span class="serif-roman">and private keys (those without), as long as they share the same name without extension, say</span> <code class="mono">EdDSA_github.pub</code> <span class="serif-roman">and</span> <code class="mono">EdDSA_github.pub</code><span class="serif-roman">.</span></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">In the web interface of GitHub, in “personal settings”, and in “SSH and GPG keys”, copy and paste the public key.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">When you commit, run this to activate your key:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ eval &quot;$(ssh-agent -s)&quot;</code></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ ssh-add ~/.ssh/EdDSA_github</code></span>
</p>
</div>
<div class="break">
<span class="phrase">&emsp;</span> <span class="phrase">❦</span> <span class="phrase">&emsp;</span> <span class="phrase">❦</span> <span class="phrase">&emsp;</span> <span class="phrase">❦</span>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">❧</span> <em class="serif-italic">January 25, 2017;</em> <em class="serif-italic">revised July 30, 2021</em></span>
</p>
</div>
</main>

<footer>
  <div id="footer-whole">
    <p id="footer-quote"></p>

    <div id="footer-signature">
      <div id="footer-left">
        <p class="footer-author">violapterin</p>
        <p class="footer-motto">VOLO NON FUGIA</p>
        <p class="footer-icon">
          <a class="icon-gmail" href="mailto:violapterin@gmail.com">
          </a>
          <a class="icon-github" href="http://github.com/violapterin/">
          </a>
          <a class="icon-facebook" href="http://facebook.com/violapterin/">
          </a>
          <a class="icon-twitter" href="http://twitter.com/violapterin/">
          </a>
        </p>
        <p class="footer-license">
          <a class="icon-license" href="https://creativecommons.org/licenses/by-sa/4.0/">
          </a>
        </p>
      </div>


      <div id="footer-right">
        <img class="footer-profile" src="/asset/profile.png" alt="profile">
      </div>
    </div>
  </div>
</footer>


</body>

</html>