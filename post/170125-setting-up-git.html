<!DOCTYPE html>

<html lang="en">

<head>
   <meta charset="utf-8" />
   <meta name="viewport" content="width=device-width initial-scale=1"/>
   <title>Setting up Git</title>
   <link rel="shortcut icon" href="/asset/favicon.ico"/>
   <link rel="stylesheet" href="/asset/style.css"/>

   <!-- Google fonts -->
   <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Alegreya:400,400i,500,500i,700,900"/>
   <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Noto+Serif:400,400i,700"/>
   <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Alegreya+Sans:400,700"/>
   <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Noto+Sans:400,700"/>
   <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Source+Code+Pro:600"/>
   <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Noto+Serif+KR:400,700"/>
   <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:400,700"/>

   <!-- Mathjax configuration -->
   <script src="/asset/mathjax.js" defer>
   </script>
   <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" defer>
   </script>

   <!-- random quotes -->
   <script src="/asset/quote.js" defer>
   </script>
</head>



<body>

<header id="header-banner">
   <h1 id="name-site">
      <a class="title-site" href="/">Photoluminescence</a>
      <span class="tagline-site">Math, Machines, and Music</span>
   </h1>
   <nav id="menu">
      <a class="button-menu" href="/stamp.html">by date</a>
      <span class="dingbat-menu">❦</span>
      <a class="button-menu" href="/genre.html">by genre</a>
      <span class="dingbat-menu">❦</span>
      <a class="button-menu" href="/series.html">by series</a>
      <span class="dingbat-menu">❦</span>
      <a class="button-menu" href="/tag.html">by tag</a>
   </nav>
   <img id="banner" src="/asset/banner.png" alt="banner">
</header>

<div class="essay">

<header id="header-post">
   <h2 class="heading-post">
      <span class="heading">Setting up Git</span>
   </h2>
   <p class="data-post">
      <a class="data-stamp" href="/page/january-2017.html">25 January 2017</a>
      <a class="data-genre" href="/page/data.html">Detailed data</a>
      <a class="data-series" href="/page/learning-git.html">Learning Git</a>
      <a class="data-tag" href="/page/git.html">Git</a>
<a class="data-tag" href="/page/github.html">GitHub</a>
<a class="data-tag" href="/page/programming-tools.html">Programming tools</a>
   </p>
</header>

<main class="document">
<div class="section">
<p class="paragraph">
<span class="phrase"><b class="serif-bold">Terminology</b></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Git, created by Linus Torvalds in 2005, is a software for tracking changes in different versions of a project consisting of plain text.</span></span> <span class="phrase"><span class="serif-roman">I find Git commands hard to remember, partly because it use text to describe the interaction of multiple components of the project, namely the working tree, the local branch, and the remote.</span></span> <span class="phrase"><span class="serif-roman">Anyway, I try to give succinct and correct descriptions.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">A working tree is the directory where your project is.</span></span> <span class="phrase"><span class="serif-roman">A local repository (local repo) is a subdirectory in the working tree named</span> <code class="mono">.git/</code><span class="serif-roman">;</span> <span class="serif-roman">everything Git needs is saved in it.</span></span> <span class="phrase"><span class="serif-roman">A remote repository (remote repo) stores the corresponding content in a hosting service, like GitHub.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">When you commit, you create a commit object including relevant information in the working tree, along with a hash generated with respect to the author, time stamp, and file contents.</span></span> <span class="phrase"><span class="serif-roman">Commits are linked to each other, making up a commit history.</span></span> <span class="phrase"><span class="serif-roman">A stash is a commit object not yet committed.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">When you clone a remote repo, you create a copy in the local device.</span></span> <span class="phrase"><span class="serif-roman">When you fork a repo, you clone it and modify it, generating diverging histories.</span></span> <span class="phrase"><span class="serif-roman">When you pull, you download files from the remote to the local.</span></span> <span class="phrase"><span class="serif-roman">When you push, you upload files from the local to the remote.</span></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><b class="serif-bold">Creating a repo</b></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">We use the convention that a</span> <code class="mono">$</code> <span class="serif-roman">indicates a command prompt.</span></span> <span class="phrase"><span class="serif-roman">To create a local repo,</span> <code class="mono">cd</code> <span class="serif-roman">into the top directory of your project, and run:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git init</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Remember that nothing affects the remote repo unless you push.</span></span> <span class="phrase"><span class="serif-roman">Therefore, if you have screwed up something and want to restart from scratch, you may consider deleting the whole</span> <code class="mono">.git/</code> <span class="serif-roman">and using</span> <code class="mono">git init</code> <span class="serif-roman">again.</span></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">To create a new remote repo, sign up a Git service provider.</span></span> <span class="phrase"><span class="serif-roman">The most popular choices are</span> <a class="serif-roman" href="https://github.com">GitHub</a> <span class="serif-roman">and</span> <a class="serif-roman" href="https://bitbucket.org">Bitbucket</a><span class="serif-roman">.</span></span> <span class="phrase"><span class="serif-roman">The remote url may either be set with respect to HTTPS or SSH protocol.</span></span> <span class="phrase"><span class="serif-roman">In the web interface of a GitHub repo, there is a HTTPS URL that looks like:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">https://github.<wbr>com/violapterin/photoluminescence.git</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">And a SSH URL that looks like:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">git@github.<wbr>com:violapterin/photoluminescence.git</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">In Git, origin is a default name or the remote repo, which you can change if you want.</span> <span class="serif-roman">to set the remote url of origin under SSH protocol:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git remote add origin &lt;remote_url&gt;</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">To change its url later:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git remote set-url origin &lt;remote_url&gt;</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">To list all remote repos added:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git remote -v</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">The result should look like:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">origin  git@github.<wbr>com:violapterin/computer-notes.git (fetch)</code></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">origin  git@github.<wbr>com:violapterin/computer-notes.git (push)</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">To see more information about the remote:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git remote show origin</code></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><b class="serif-bold">Ignoring certain files</b></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">It isn’t Git’s original purpose to track binary files.</span></span> <span class="phrase"><span class="serif-roman">Binary files cannot be compared effectively,</span> <span class="serif-roman">nor can it be merged or rebased normally.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Generally, to tell Git to ignore specified files, create a file named</span> <code class="mono">.gitignore</code> <span class="serif-roman">in the top directory.</span></span> <span class="phrase"><span class="serif-roman">As an illustration:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">.log</code></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">*.pdf</code></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">/__pycache__/</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Here,</span> <code class="mono">*</code> <span class="serif-roman">is a wildcard.</span></span> <span class="phrase"><span class="serif-roman">This way,</span> <code class="mono">.log</code> <span class="serif-roman">in the top directory, all</span> <code class="mono">.pdf</code> <span class="serif-roman">files anywhere, and everything in the subdirectory</span> <code class="mono">/__pycache__/</code> <span class="serif-roman">of the top directory, will be ignored.</span></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">After</span> <code class="mono">.gitignore</code> <span class="serif-roman">is modified, those files tracked before but intended to be ignored, are still tracked.</span></span> <span class="phrase"><span class="serif-roman">To truly stop tracking them, remove all the cache by</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git rm -r --cached .</code></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><b class="serif-bold">Configuring Git</b></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">In general, to configure something in Git, run:</span></span> <span class="phrase"><span class="serif-roman">(Use</span> <code class="mono">--global</code> <span class="serif-roman">to set it in all repos.)</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git config class.attribute value</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Alternatively, append the following line, in</span> <code class="mono">~/.gitconfig</code><span class="serif-roman">:</span></span> <span class="phrase"><span class="serif-roman">(The second line should start with a tab.)</span> <code class="mono">[class]</code></span>
</p>
<p class="paragraph">
<span class="phrase">&ensp;</span> <span class="phrase"><code class="mono">attribute = value</code></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">For example, to fill in username and email, set:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git config user.name &quot;Raven I. Pilot&quot;</code></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git config user.email &quot;violapterin@gmail.<wbr>com&quot;</code></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">As another example, the default editor for commit message is Vi.</span></span> <span class="phrase"><span class="serif-roman">To change it to Vim, set:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git config core.editor &quot;vim&quot;</code></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Or to color Git’s terminal output whenever possible, set:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git config color.ui auto</code></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">As a last example, by default non-ASCII characters such as Chinese characters are backslash-escaped with character codes in commit record;</span> <span class="serif-roman">for instance,</span> <span class="serif-roman">我</span> <span class="serif-roman">becomes</span> <code class="mono">\346\210\221</code><span class="serif-roman">.</span> <span class="serif-roman">to show them as verbatim, set:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ git config core.quotepath false</code></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><b class="serif-bold">Using SSH keys</b></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">GitHub offers the choice to authenticate with HTTPS or SSH.</span></span> <span class="phrase"><span class="serif-roman">In general, SSH is more secure, but sometimes it gets blocked by a firewall.</span></span> <span class="phrase"><span class="serif-roman">Some older guides might recommend RSA, but in 2020 the GitHub official guide changed that to ED25519.</span></span> <span class="phrase"><span class="serif-roman">ED25519 public keys are evidently shorter and considerably stronger.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">To generate an ED25519 key, run:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ ssh-keygen -t ed25519 -C &quot;violapterin@gmail.<wbr>com&quot;</code></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">You will be asked for destination path, and a passphrase.</span></span> <span class="phrase"><span class="serif-roman">With an SSH agent you have only to type the passphrase once.</span></span> <span class="phrase"><span class="serif-roman">Remember, a passphrase should be reasonably long, like 6-word.</span></span> <span class="phrase"><span class="serif-roman">Not only are nonalphanumeric ASCII characters allowed,</span> <span class="serif-roman">but they are actually encouraged.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">If you have several keys, you may rename the public keys (with extension</span> <code class="mono">.pub</code> <span class="serif-roman">)</span> <span class="serif-roman">and private keys (without extension), as long as they share the same name without extension, say</span> <code class="mono">Ed25519_GitHub.pub</code> <span class="serif-roman">and</span> <code class="mono">Ed25519_GitHub.pub</code><span class="serif-roman">.</span></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">In the web interface of GitHub, in “personal settings”, and in “SSH and GPG keys”, copy and paste the public key.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Under SSH protocol, authentication of SSH Key is easily managed by an SSH agent.</span></span> <span class="phrase"><span class="serif-roman">(Under HTTPS, the user may also use a credential manager, which I haven’t tried.)</span></span> <span class="phrase"><span class="serif-roman">When you commit, run the SSH agent to activate your key, by:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ eval &quot;$(ssh-agent -s)&quot;</code></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">$ ssh-add ~/.ssh/Ed25519_github</code></span>
</p>
</div>
<div class="break">
<span class="phrase">&emsp;</span> <span class="phrase">❦</span> <span class="phrase">&emsp;</span> <span class="phrase">❦</span> <span class="phrase">&emsp;</span> <span class="phrase">❦</span>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">❧</span> <em class="serif-italic">January 25, 2017;</em> <em class="serif-italic">revised July 30, 2021</em></span>
</p>
</div>
</main>

</div>

<footer id="footer-whole">
   <div id="footer-quote"></div>

   <div id="footer-signature">
      <div id="footer-left">
         <p class="footer-author">violapterin</p>
         <p class="footer-motto">VOLO NON FUGIA</p>
         <p class="footer-icon">
            <a class="icon-gmail" href="mailto:violapterin@gmail.com"></a>
            <a class="icon-github" href="http://github.com/violapterin/"></a>
            <a class="icon-facebook" href="http://facebook.com/violapterin/"></a>
            <a class="icon-twitter" href="http://twitter.com/violapterin/"></a>
         </p>
         <p class="footer-license">
         <a class="icon-license" href="https://creativecommons.org/licenses/by-sa/4.0/"></a>
         </p>
      </div>
      <div id="footer-right">
         <img class="footer-profile" src="/asset/profile.png" alt="profile">
      </div>
   </div>
</footer>


</body>

</html>