<!DOCTYPE html>

<html lang="en">

<head>
   <meta charset="utf-8" />
   <meta name="viewport" content="width=device-width initial-scale=1"/>
   <title>Solarized and other color schemes for Vim</title>
   <link rel="shortcut icon" href="/asset/favicon.ico"/>
   <link rel="stylesheet" href="/asset/style.css"/>

   <!-- Google fonts -->
   <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Alegreya:400,400i,500,500i,700,900"/>
   <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Noto+Serif:400,400i,700"/>
   <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Alegreya+Sans:400,700"/>
   <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Noto+Sans:400,700"/>
   <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Source+Code+Pro:600"/>
   <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Noto+Serif+KR:400,700"/>
   <link rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:400,700"/>

   <!-- Mathjax configuration -->
   <script src="/asset/mathjax.js" defer>
   </script>
   <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" defer>
   </script>

   <!-- random quotes -->
   <script src="/asset/quote.js" defer>
   </script>
</head>



<body>

<header id="header-banner">
   <h1 id="name-site">
      <a class="title-site" href="/">Photoluminescence</a>
      <span class="tagline-site">Math, Machines, and Music</span>
   </h1>
   <nav id="menu">
      <a class="button-menu" href="/stamp.html">by date</a>
      <span class="dingbat-menu">❦</span>
      <a class="button-menu" href="/genre.html">by genre</a>
      <span class="dingbat-menu">❦</span>
      <a class="button-menu" href="/series.html">by series</a>
      <span class="dingbat-menu">❦</span>
      <a class="button-menu" href="/tag.html">by tag</a>
   </nav>
   <img id="banner" src="/asset/banner.png" alt="banner">
</header>

<div class="essay">

<header id="header-post">
   <h2 class="heading-post">
      <span class="heading">Solarized and other color schemes for Vim</span>
   </h2>
   <p class="data-post">
      <a class="data-stamp" href="/page/january-2017.html">7 January 2017</a>
      <a class="data-genre" href="/page/notes.html">Negligible notes</a>
      
      <a class="data-tag" href="/page/shell.html">Shell</a>
<a class="data-tag" href="/page/vim.html">Vim</a>
   </p>
</header>

<main class="document">
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">In July 2016 I started to use Vim;</span> <span class="serif-roman">by then, I mainly used a MacBook Air, and opened Vim in a terminal, usually within iTerm2 (instead of gVim or MacVim).</span></span> <span class="phrase"><span class="serif-roman">One of the exciting stuff was the various color schemes available in Vim.</span></span> <span class="phrase"><span class="serif-roman">After discovering the ‘Solarized’ by Ethan Schoonover, recommended much in Stack Overflow, I agreed that it was particularly pleasing to the eyes.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Surprisingly, the installation was far more cumbersome than I assumed,</span> <span class="serif-roman">and sometimes it didn’t work.</span></span> <span class="phrase"><span class="serif-roman">What prevented Solarized to properly function?</span></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">To highlight text, Vim parses it with rules according to present file extension.</span></span> <span class="phrase"><span class="serif-roman">The text is separated as syntax items which match a certain pattern.</span></span> <span class="phrase"><span class="serif-roman">Afterwards, syntax items are classified into 16 syntax groups, each highlighted by one color.</span></span> <span class="phrase"><span class="serif-roman">For example, in a cpp file the syntax item</span> <code class="mono">new</code> <span class="serif-roman">belongs to the syntax group “Statement”.</span></span> <span class="phrase"><span class="serif-roman">When an item is ignored, it is mapped to the ‘Normal’ group.</span></span> <span class="phrase"><span class="serif-roman">Every group is associated with a hex color code, like</span> <code class="mono">#ffff00</code> <span class="serif-roman">which should appear yellow on a monitor.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">In a GUI, all hex colors can be displayed,</span> <span class="serif-roman">and we are done.</span></span> <span class="phrase"><span class="serif-roman">But in a terminal, what follows is split into two cases.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">If</span> <code class="mono">termguicolors</code> <span class="serif-roman">is set true (with</span> <code class="mono">set termguicolors</code> <span class="serif-roman">),</span> <span class="serif-roman">terminal colors, specified by variables</span> <code class="mono">guifg</code> <span class="serif-roman">and</span> <code class="mono">guibg</code><span class="serif-roman">,</span> <span class="serif-roman">are called.</span></span> <span class="phrase"><span class="serif-roman">Ideally, they may be assigned all possible hex colors.</span></span> <span class="phrase"><span class="serif-roman">Nevertheless, iTerm2 and Mac’s native Terminal app can only display 256 hex colors.</span></span> <span class="phrase"><span class="serif-roman">A degradation function therefore must be applied to map all invalid hex colors to valid ones.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">If</span> <code class="mono">termguicolors</code> <span class="serif-roman">is set false (with</span> <code class="mono">set notermguicolors</code> <span class="serif-roman">),</span> <span class="serif-roman">palette colors, specified by</span> <code class="mono">ctermfg</code> <span class="serif-roman">and</span> <code class="mono">ctermbg</code><span class="serif-roman">,</span> <span class="serif-roman">are called.</span></span> <span class="phrase"><span class="serif-roman">They are encoded by a nonnegative integer.</span></span> <span class="phrase"><span class="serif-roman">If</span> <code class="mono">t_Co</code> <span class="serif-roman">equals 16, the integers range from 0 to 15, and is mapped to a ANSI palette of hex colors.</span></span> <span class="phrase"><span class="serif-roman">If</span> <code class="mono">t_Co</code> <span class="serif-roman">equals 256, the integers range from 0 to 255, and is mapped to a Xterm palette of hex color, as remarked above.</span></span> <span class="phrase"><span class="serif-roman">The 16-color ANSI palette is specified by the present terminal preference,</span> <span class="serif-roman">and the 256-color Xterm palette is fixed by the standard.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><a class="serif-roman" href="https://github.com/altercation/vim-colors-solarized">Solarized</a> <span class="serif-roman">attempts to realize a collection of painstakingly-chosen colors to highlight the syntax groups.</span></span> <span class="phrase"><span class="serif-roman">When ANSI palette colors are used, Solarized colors are given by the corresponding Solarized theme of the terminal, which iTerm2 fortunately provides.</span></span> <span class="phrase"><span class="serif-roman">Without the corresponding palette, Solarized colors won’t be displayed properly.</span></span> <span class="phrase"><span class="serif-roman">Meanwhile, when Xterm palette colors are used, none of the Solarized colors is a valid color.</span></span> <span class="phrase"><span class="serif-roman">If a degradation function isn’t provided, the terminal is forced to guess the colors,</span> <span class="serif-roman">and the result is horrible.</span></span> <span class="phrase"><span class="serif-roman">Thus a lot can go wrong for Solarized in a terminal Vim,</span> <span class="serif-roman">and it isn’t easy to reliably specify all these information in the Vimrc for all devices and Vim variants.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Currently, Solarized isn’t frequently maintained,</span> <span class="serif-roman">some successors, in addition to Solarized, are:</span></span> <span class="phrase"><a class="serif-roman" href="https://github.com/romainl/flattened">‘Flattened’</a> <a class="serif-roman" href="https://github.com/morhetz/gruvbox">‘Gruvbox’</a> <a class="serif-roman" href="https://github.com/chriskempson/tomorrow-theme">‘Tomorrow’</a> <a class="serif-roman" href="https://github.com/tomasr/molokai">‘Molokai’</a><span class="serif-roman">.</span> <span class="serif-roman">Flattened is faithfully based on Solarized, and is still maintained.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">In January 2017, I spent quite some time researching about all this.</span></span> <span class="phrase"><span class="serif-roman">On GitHub, I backed up color schemes copied into</span> <code class="mono">~/.vim/colors/</code><span class="serif-roman">.</span></span> <span class="phrase"><span class="serif-roman">That way, it wasn’t hard to modify the hex colors in the file.</span></span> <span class="phrase"><span class="serif-roman">For example, I think the ‘Normal’ group is in a dim gray hard to read.</span></span> <span class="phrase"><span class="serif-roman">To override that value in</span> <code class="mono">flattened_dark.vim</code><span class="serif-roman">,</span> <span class="serif-roman">I decided to set:</span></span>
</p>
<p class="paragraph">
<span class="phrase"><code class="mono">hi Normal guifg=#bac3c4</code></span>
</p>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">Time passed,</span> <span class="serif-roman">and in September 2019, I began to use VS Code;</span> <span class="serif-roman">it worked like a charm.</span></span> <span class="phrase"><span class="serif-roman">The VS Code market has a variety of extensions, all to be installed with one click.</span></span> <span class="phrase"><span class="serif-roman">There are a Vim emulator, colors schemes, spelling checkers, and whatnot.</span></span> <span class="phrase"><span class="serif-roman">Moreover, the GUI is able to show all hex colors.</span></span> <span class="phrase"><span class="serif-roman">I use Gruvbox now,</span> <span class="serif-roman">and previous research about Solarized looks entirely irrelevant.</span></span>
</p>
<p class="paragraph">
<span class="phrase"><span class="serif-roman">If any, the lesson we learn is that simple and robust designs, rather than intricate but fragile ones, often remain to have its life in ever-changing new frameworks.</span></span>
</p>
</div>
<div class="break">
<span class="phrase">&emsp;</span> <span class="phrase">❦</span> <span class="phrase">&emsp;</span> <span class="phrase">❦</span> <span class="phrase">&emsp;</span> <span class="phrase">❦</span>
</div>
<div class="section">
<p class="paragraph">
<span class="phrase"><span class="serif-roman">❧</span> <em class="serif-italic">January 7, 2017;</em> <em class="serif-italic">shortened and rewritten July 28, 2021</em></span>
</p>
</div>
</main>

</div>

<footer>
   <div id="footer-whole">
      <p id="footer-quote"></p>

      <div id="footer-signature">
         <div id="footer-left">
            <p class="footer-author">violapterin</p>
            <p class="footer-motto">VOLO NON FUGIA</p>
            <p class="footer-icon">
               <a class="icon-gmail" href="mailto:violapterin@gmail.com"></a>
               <a class="icon-github" href="http://github.com/violapterin/"></a>
               <a class="icon-facebook" href="http://facebook.com/violapterin/"></a>
               <a class="icon-twitter" href="http://twitter.com/violapterin/"></a>
            </p>
            <p class="footer-license">
            <a class="icon-license" href="https://creativecommons.org/licenses/by-sa/4.0/"></a>
            </p>
         </div>
         <div id="footer-right">
            <img class="footer-profile" src="/asset/profile.png" alt="profile">
         </div>
      </div>
   </div>
</footer>


</body>

</html>